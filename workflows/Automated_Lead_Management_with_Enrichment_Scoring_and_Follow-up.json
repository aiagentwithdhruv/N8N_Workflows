{"updatedAt":"2026-01-22T16:17:05.255Z","createdAt":"2025-12-28T04:07:36.230Z","id":"EELpKU9O7F1nqOJC","name":"Automated Lead Management with Enrichment, Scoring, and Follow-up","description":null,"active":false,"isArchived":false,"nodes":[{"parameters":{"path":"4a31fad1-c952-48ec-b299-71a3908795c1","options":{}},"id":"b7e6b658-5886-4282-8b2a-648411eab77c","name":"Lead Form Webhook","type":"n8n-nodes-base.webhook","typeVersion":2.1,"position":[-2688,96],"webhookId":"4a31fad1-c952-48ec-b299-71a3908795c1"},{"parameters":{"assignments":{"assignments":[{"id":"id-1","name":"enrichmentApiUrl","value":"<__PLACEHOLDER_VALUE__Enrichment API URL (e.g., Clearbit, Apollo, or Hunter.io)__>","type":"string"},{"id":"id-2","name":"slackChannel","value":"<__PLACEHOLDER_VALUE__Slack channel ID for sales notifications__>","type":"string"}]},"includeOtherFields":true,"options":{}},"id":"ef047195-7cc7-4324-b346-7e34d650f3f5","name":"Workflow Configuration","type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-2464,96]},{"parameters":{"assignments":{"assignments":[{"id":"id-1","name":"name","value":"={{ $json.body.name || $json.query.name }}","type":"string"},{"id":"id-2","name":"email","value":"={{ $json.body.email || $json.query.email }}","type":"string"},{"id":"id-3","name":"phone","value":"={{ $json.body.phone || $json.query.phone }}","type":"string"},{"id":"id-4","name":"company","value":"={{ $json.body.company || $json.query.company }}","type":"string"},{"id":"id-5","name":"source","value":"={{ $json.body.source || $json.query.source || \"Website Form\" }}","type":"string"},{"id":"id-6","name":"message","value":"={{ $json.body.message || $json.query.message }}","type":"string"},{"id":"id-7","name":"timestamp","value":"={{ $now.toISO() }}","type":"string"}]},"options":{}},"id":"99d25d44-0128-4316-b83c-28aa8de8f4dd","name":"Extract Lead Data","type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-2240,96]},{"parameters":{"documentId":{"__rl":true,"mode":"id","value":"<__PLACEHOLDER_VALUE__Google Sheets Document ID__>"},"sheetName":{"__rl":true,"mode":"name","value":"<__PLACEHOLDER_VALUE__Sheet Name (e.g., Leads)__>"},"filtersUI":{"values":[{"lookupColumn":"Email","lookupValue":"={{ $json.email }}"}]},"options":{"returnFirstMatch":true}},"id":"b2c50715-84a5-4f85-b544-9e5555f8dac0","name":"Check Existing Lead","type":"n8n-nodes-base.googleSheets","typeVersion":4.7,"position":[-2016,96]},{"parameters":{"conditions":{"options":{"caseSensitive":false,"leftValue":"","typeValidation":"loose"},"conditions":[{"id":"id-1","leftValue":"={{ $('Check Existing Lead').item.json.rowNumber }}","operator":{"type":"string","operation":"exists"}}],"combinator":"and"},"options":{}},"id":"b5f8d08b-cb75-4a8b-81af-fd18b2a53ff6","name":"Lead Exists?","type":"n8n-nodes-base.if","typeVersion":2.3,"position":[-1792,96]},{"parameters":{"operation":"update","documentId":{"__rl":true,"mode":"id","value":"={{ $('Workflow Configuration').first().json.sheetId }}"},"sheetName":{"__rl":true,"mode":"name","value":"={{ $('Workflow Configuration').first().json.sheetName }}"},"columns":{"mappingMode":"defineBelow","value":{"Name":"={{ $json.name }}","Email":"={{ $json.email }}","Phone":"={{ $json.phone }}","Company":"={{ $json.company }}","Source":"={{ $json.source }}","Message":"={{ $json.message }}","Last Updated":"={{ $json.timestamp }}"},"matchingColumns":["rowNumber"],"schema":[{"id":"Name","displayName":"Name","required":false,"defaultMatch":false,"canBeUsedToMatch":true},{"id":"Email","displayName":"Email","required":false,"defaultMatch":false,"canBeUsedToMatch":true},{"id":"Phone","displayName":"Phone","required":false,"defaultMatch":false,"canBeUsedToMatch":true},{"id":"Company","displayName":"Company","required":false,"defaultMatch":false,"canBeUsedToMatch":true},{"id":"Source","displayName":"Source","required":false,"defaultMatch":false,"canBeUsedToMatch":true},{"id":"Message","displayName":"Message","required":false,"defaultMatch":false,"canBeUsedToMatch":true},{"id":"Last Updated","displayName":"Last Updated","required":false,"defaultMatch":false,"canBeUsedToMatch":true},{"id":"rowNumber","displayName":"rowNumber","required":false,"defaultMatch":true,"canBeUsedToMatch":true}]},"options":{}},"id":"1727ea55-bf6d-4acb-9b99-7ad7e78d80f7","name":"Update Existing Lead","type":"n8n-nodes-base.googleSheets","typeVersion":4.7,"position":[-1568,0]},{"parameters":{"method":"POST","url":"={{ $('Workflow Configuration').first().json.enrichmentApiUrl }}","authentication":"genericCredentialType","sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"email\": \"={{ $json.email }}\",\n  \"company\": \"={{ $json.company }}\",\n  \"name\": \"={{ $json.name }}\"\n}","options":{"allowUnauthorizedCerts":true}},"id":"8fdc506e-da00-4a6a-a0ad-9ada4b718caa","name":"Enrich Lead Data","type":"n8n-nodes-base.httpRequest","typeVersion":4.3,"position":[-1344,96]},{"parameters":{"assignments":{"assignments":[{"id":"id-1","name":"companySize","value":"={{ $json.company_size || \"Unknown\" }}","type":"string"},{"id":"id-2","name":"industry","value":"={{ $json.industry || \"Unknown\" }}","type":"string"},{"id":"id-3","name":"linkedinUrl","value":"={{ $json.linkedin_url || \"\" }}","type":"string"},{"id":"id-4","name":"country","value":"={{ $json.country || \"Unknown\" }}","type":"string"}]},"includeOtherFields":true,"options":{}},"id":"b25277ce-8dfd-48a3-92af-2744a2513792","name":"Merge Enrichment Data","type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-1120,96]},{"parameters":{"promptType":"define","text":"=Lead Details:\nName: {{ $json.name }}\nEmail: {{ $json.email }}\nCompany: {{ $json.company }}\nCompany Size: {{ $json.companySize }}\nIndustry: {{ $json.industry }}\nCountry: {{ $json.country }}\nMessage: {{ $json.message }}","hasOutputParser":true,"options":{"systemMessage":"You are an expert lead scoring AI. Analyze the provided lead information and assign a score from 1-100 based on these criteria:\n\n1. Company Size (30 points):\n   - Enterprise (500+): 30 points\n   - Mid-market (50-500): 20 points\n   - Small (10-50): 10 points\n   - Micro (<10): 5 points\n\n2. Industry Fit (25 points):\n   - High-value industries (Tech, Finance, Healthcare): 25 points\n   - Medium-value industries (Retail, Manufacturing): 15 points\n   - Other industries: 10 points\n\n3. Intent Keywords in Message (25 points):\n   - Strong intent (\"buy\", \"purchase\", \"pricing\", \"demo\"): 25 points\n   - Medium intent (\"interested\", \"learn more\", \"information\"): 15 points\n   - Low intent (\"just browsing\", \"curious\"): 5 points\n\n4. Contact Quality (20 points):\n   - Business email domain: 20 points\n   - Generic email (gmail, yahoo): 10 points\n   - Missing info: 5 points\n\nClassify leads as:\n- Hot: 70-100 points (immediate follow-up)\n- Warm: 40-69 points (nurture campaign)\n- Cold: 1-39 points (long-term nurture)\n\nProvide the score, tier, and brief reasoning."}},"id":"ef890308-4915-48b1-87a6-86b89e3d4156","name":"AI Lead Scoring","type":"@n8n/n8n-nodes-langchain.agent","typeVersion":3.1,"position":[-896,96]},{"parameters":{"schemaType":"manual","inputSchema":"{\n  \"type\": \"object\",\n  \"properties\": {\n    \"score\": {\n      \"type\": \"number\",\n      \"description\": \"Lead score from 1-100\"\n    },\n    \"tier\": {\n      \"type\": \"string\",\n      \"enum\": [\"Hot\", \"Warm\", \"Cold\"],\n      \"description\": \"Lead classification\"\n    },\n    \"reasoning\": {\n      \"type\": \"string\",\n      \"description\": \"Explanation for the score\"\n    }\n  },\n  \"required\": [\"score\", \"tier\", \"reasoning\"]\n}"},"id":"afb0eab3-635d-4a4e-8d0e-9c142f860faa","name":"Structured Output Parser","type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.3,"position":[-768,320]},{"parameters":{"assignments":{"assignments":[{"id":"id-1","name":"leadScore","value":"={{ $json.score }}","type":"string"},{"id":"id-2","name":"leadTier","value":"={{ $json.tier }}","type":"string"},{"id":"id-3","name":"scoreReasoning","value":"={{ $json.reasoning }}","type":"string"}]},"includeOtherFields":true,"options":{}},"id":"700d2efc-fd64-474a-a6ab-995d63fb7da3","name":"Parse Lead Score","type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-544,96]},{"parameters":{"rules":{"values":[{"conditions":{"options":{"caseSensitive":false,"leftValue":"","typeValidation":"loose"},"conditions":[{"leftValue":"={{ $json.leadTier }}","rightValue":"Hot","operator":{"type":"string","operation":"equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"Hot"},{"conditions":{"options":{"caseSensitive":false,"leftValue":"","typeValidation":"loose"},"conditions":[{"leftValue":"={{ $json.leadTier }}","rightValue":"Warm","operator":{"type":"string","operation":"equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"Warm"},{"conditions":{"options":{"caseSensitive":false,"leftValue":"","typeValidation":"loose"},"conditions":[{"leftValue":"={{ $json.leadTier }}","rightValue":"Cold","operator":{"type":"string","operation":"equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"Cold"}]},"options":{"fallbackOutput":"extra"}},"id":"5716a004-5e3d-4484-89a5-1b58da000e8e","name":"Route by Lead Score","type":"n8n-nodes-base.switch","typeVersion":3.4,"position":[-320,64]},{"parameters":{"select":"channel","channelId":{"__rl":true,"mode":"id","value":"={{ $('Workflow Configuration').first().json.slackChannel }}"},"text":"=ðŸ”¥ *HOT LEAD ALERT* ðŸ”¥\n\n*Lead Score:* {{ $json.leadScore }}/100\n*Name:* {{ $json.name }}\n*Email:* {{ $json.email }}\n*Company:* {{ $json.company }} ({{ $json.companySize }})\n*Industry:* {{ $json.industry }}\n*Country:* {{ $json.country }}\n\n*Message:*\n{{ $json.message }}\n\n*Scoring Reasoning:*\n{{ $json.scoreReasoning }}\n\n*Action Required:* Immediate follow-up recommended!","otherOptions":{}},"id":"222957ff-5968-44d2-85ef-bf5b5d0e6075","name":"Notify Sales - Hot Lead","type":"n8n-nodes-base.slack","typeVersion":2.4,"position":[-96,-96],"webhookId":"42b1ec3b-cfb5-477b-b9e9-753be11b928b"},{"parameters":{"select":"channel","channelId":{"__rl":true,"mode":"id","value":"={{ $('Workflow Configuration').first().json.slackChannel }}"},"text":"=âš¡ *WARM LEAD* âš¡\n\n*Lead Score:* {{ $json.leadScore }}/100\n*Name:* {{ $json.name }}\n*Email:* {{ $json.email }}\n*Company:* {{ $json.company }} ({{ $json.companySize }})\n*Industry:* {{ $json.industry }}\n\n*Message:*\n{{ $json.message }}\n\n*Scoring Reasoning:*\n{{ $json.scoreReasoning }}\n\n*Action:* Add to nurture campaign","otherOptions":{}},"id":"f062dada-8b05-48a6-937d-19e073db0b13","name":"Notify Sales - Warm Lead","type":"n8n-nodes-base.slack","typeVersion":2.4,"position":[-96,96],"webhookId":"d0a22c64-eb63-4ac2-98e9-012b7aa531ce"},{"parameters":{"select":"channel","channelId":{"__rl":true,"mode":"id","value":"={{ $('Workflow Configuration').first().json.slackChannel }}"},"text":"=â„ï¸ *COLD LEAD* â„ï¸\n\n*Lead Score:* {{ $json.leadScore }}/100\n*Name:* {{ $json.name }}\n*Email:* {{ $json.email }}\n*Company:* {{ $json.company }}\n\n*Scoring Reasoning:*\n{{ $json.scoreReasoning }}\n\n*Action:* Long-term nurture campaign","otherOptions":{}},"id":"e2f1b773-14c4-4a7f-b2b7-2e423c1d32af","name":"Notify Sales - Cold Lead","type":"n8n-nodes-base.slack","typeVersion":2.4,"position":[-96,288],"webhookId":"a3e74f81-1b6c-42c6-92c6-db12c287ffeb"},{"parameters":{"promptType":"define","text":"=Generate a personalized follow-up email for this lead:\n\nLead Information:\nName: {{ $json.name }}\nEmail: {{ $json.email }}\nCompany: {{ $json.company }}\nIndustry: {{ $json.industry }}\nLead Tier: {{ $json.leadTier }}\nScore: {{ $json.leadScore }}/100\nOriginal Message: {{ $json.message }}\n\nCreate an appropriate email based on their tier.","options":{"systemMessage":"You are a professional sales email writer. Generate personalized follow-up emails based on lead tier:\n\n**Hot Leads (70-100):**\n- Urgent, action-oriented tone\n- Offer immediate demo or consultation\n- Highlight quick wins and ROI\n- Include calendar link for immediate booking\n- Keep it short and direct\n\n**Warm Leads (40-69):**\n- Professional, informative tone\n- Provide valuable resources (case studies, whitepapers)\n- Soft call-to-action\n- Offer to answer questions\n- Build trust and credibility\n\n**Cold Leads (1-39):**\n- Educational, helpful tone\n- Share industry insights or tips\n- No hard sell\n- Invite to newsletter or webinar\n- Long-term relationship building\n\n**Email Structure:**\n- Subject line (compelling, personalized)\n- Greeting with name\n- Reference their original message\n- Value proposition tailored to their industry\n- Clear call-to-action appropriate for tier\n- Professional signature\n\n**Tone:** Professional, concise, personalized. Avoid generic templates. Reference specific details from their inquiry.\n\nReturn ONLY the email content (subject and body), no additional commentary."}},"id":"b8da4597-fcb8-4c10-b382-e9766feeb3a1","name":"Generate Follow-up Email","type":"@n8n/n8n-nodes-langchain.agent","typeVersion":3.1,"position":[128,96]},{"parameters":{"sendTo":"={{ $json.email }}","subject":"=Re: Your inquiry about {{ $json.company }}","emailType":"text","message":"={{ $('Generate Follow-up Email').item.json.output }}","options":{"appendAttribution":false}},"id":"f5536704-9839-43b0-9047-03bc740cf457","name":"Send Follow-up Email","type":"n8n-nodes-base.gmail","typeVersion":2.2,"position":[480,96],"webhookId":"9e544497-f256-4262-a287-13978c331d6b"},{"parameters":{"operation":"appendOrUpdate","documentId":{"__rl":true,"mode":"id","value":"<__PLACEHOLDER_VALUE__Google Sheets Document ID__>"},"sheetName":{"__rl":true,"mode":"name","value":"<__PLACEHOLDER_VALUE__Sheet Name (e.g., Leads)__>"},"columns":{"mappingMode":"autoMapInputData","value":{},"matchingColumns":["Email"],"schema":[]},"options":{}},"id":"e8a3f28b-ddb8-4685-84a2-e4c505006df6","name":"Create New Lead","type":"n8n-nodes-base.googleSheets","typeVersion":4.7,"position":[-1568,192]},{"parameters":{"operation":"appendOrUpdate","documentId":{"__rl":true,"mode":"id","value":"<__PLACEHOLDER_VALUE__Google Sheets Document ID for Journey Log__>"},"sheetName":{"__rl":true,"mode":"name","value":"<__PLACEHOLDER_VALUE__Sheet Name (e.g., Lead_Journey)__>"},"columns":{"mappingMode":"autoMapInputData","value":{"Timestamp":"={{ $now }}","Name":"={{ $json.name }}","Email":"={{ $json.email }}","Company":"={{ $json.company }}","Lead Score":"={{ $json.leadScore }}","Lead Tier":"={{ $json.leadTier }}","Status":"Email Sent","Owner":"={{ $json.owner }}"},"matchingColumns":["Email"],"schema":[{"id":"Timestamp","displayName":"Timestamp","required":false,"defaultMatch":false,"canBeUsedToMatch":true},{"id":"Name","displayName":"Name","required":false,"defaultMatch":false,"canBeUsedToMatch":true},{"id":"Email","displayName":"Email","required":false,"defaultMatch":true,"canBeUsedToMatch":true},{"id":"Company","displayName":"Company","required":false,"defaultMatch":false,"canBeUsedToMatch":true},{"id":"Lead Score","displayName":"Lead Score","required":false,"defaultMatch":false,"canBeUsedToMatch":false},{"id":"Lead Tier","displayName":"Lead Tier","required":false,"defaultMatch":false,"canBeUsedToMatch":false},{"id":"Status","displayName":"Status","required":false,"defaultMatch":false,"canBeUsedToMatch":false},{"id":"Owner","displayName":"Owner","required":false,"defaultMatch":false,"canBeUsedToMatch":false}]},"options":{}},"id":"c16943af-68d3-4118-a30e-87bb2f8192f3","name":"Log Lead Journey","type":"n8n-nodes-base.googleSheets","typeVersion":4.7,"position":[704,96]},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4.1-mini"},"builtInTools":{},"options":{}},"id":"5d28912b-40b6-4641-b6f9-d7a2f3a471c9","name":"OpenAI Chat Model","type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.3,"position":[-896,320]},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4.1-mini"},"builtInTools":{},"options":{}},"id":"16ed8d54-f62a-4f68-8434-88fdee61dccf","name":"OpenAI Chat Model - Email","type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.3,"position":[208,320]}],"connections":{"Lead Form Webhook":{"main":[[{"node":"Workflow Configuration","type":"main","index":0}]]},"Workflow Configuration":{"main":[[{"node":"Extract Lead Data","type":"main","index":0}]]},"Extract Lead Data":{"main":[[{"node":"Check Existing Lead","type":"main","index":0}]]},"Check Existing Lead":{"main":[[{"node":"Lead Exists?","type":"main","index":0}]]},"Lead Exists?":{"main":[[{"node":"Update Existing Lead","type":"main","index":0}],[{"node":"Create New Lead","type":"main","index":0}]]},"Update Existing Lead":{"main":[[{"node":"Enrich Lead Data","type":"main","index":0}]]},"Enrich Lead Data":{"main":[[{"node":"Merge Enrichment Data","type":"main","index":0}]]},"Merge Enrichment Data":{"main":[[{"node":"AI Lead Scoring","type":"main","index":0}]]},"AI Lead Scoring":{"main":[[{"node":"Parse Lead Score","type":"main","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"AI Lead Scoring","type":"ai_outputParser","index":0}]]},"Parse Lead Score":{"main":[[{"node":"Route by Lead Score","type":"main","index":0}]]},"Route by Lead Score":{"main":[[{"node":"Notify Sales - Hot Lead","type":"main","index":0}],[{"node":"Notify Sales - Warm Lead","type":"main","index":0}],[{"node":"Notify Sales - Cold Lead","type":"main","index":0}]]},"Notify Sales - Hot Lead":{"main":[[{"node":"Generate Follow-up Email","type":"main","index":0}]]},"Notify Sales - Warm Lead":{"main":[[{"node":"Generate Follow-up Email","type":"main","index":0}]]},"Notify Sales - Cold Lead":{"main":[[{"node":"Generate Follow-up Email","type":"main","index":0}]]},"Generate Follow-up Email":{"main":[[{"node":"Send Follow-up Email","type":"main","index":0}]]},"Send Follow-up Email":{"main":[[{"node":"Log Lead Journey","type":"main","index":0}]]},"Create New Lead":{"main":[[{"node":"Enrich Lead Data","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"AI Lead Scoring","type":"ai_languageModel","index":0}]]},"OpenAI Chat Model - Email":{"ai_languageModel":[[{"node":"Generate Follow-up Email","type":"ai_languageModel","index":0}]]}},"settings":{"executionOrder":"v1","availableInMCP":false},"staticData":null,"meta":null,"pinData":{},"versionId":"2c9a4cfe-ab82-43e9-b2b8-7b00bc95f38a","activeVersionId":null,"versionCounter":3,"triggerCount":0,"shared":[{"updatedAt":"2025-12-28T04:07:36.238Z","createdAt":"2025-12-28T04:07:36.238Z","role":"workflow:owner","workflowId":"EELpKU9O7F1nqOJC","projectId":"DT8YjHwLZsQjJqVc","project":{"updatedAt":"2025-09-30T14:49:00.207Z","createdAt":"2025-09-30T14:45:13.837Z","id":"DT8YjHwLZsQjJqVc","name":"Dhruv Tomar <dhruv70081@gmail.com>","type":"personal","icon":null,"description":null,"creatorId":"eeb2630f-4760-4254-9eb8-71cf49a24999","projectRelations":[{"updatedAt":"2025-09-30T14:45:13.837Z","createdAt":"2025-09-30T14:45:13.837Z","userId":"eeb2630f-4760-4254-9eb8-71cf49a24999","projectId":"DT8YjHwLZsQjJqVc","user":{"updatedAt":"2026-01-31T18:30:04.000Z","createdAt":"2025-09-30T14:45:13.204Z","id":"eeb2630f-4760-4254-9eb8-71cf49a24999","email":"dhruv70081@gmail.com","firstName":"Dhruv","lastName":"Tomar","personalizationAnswers":{"version":"v4","personalization_survey_submitted_at":"2025-09-30T14:49:20.090Z","personalization_survey_n8n_version":"1.113.3","companySize":"<20","companyType":"education","automationGoalSm":["lead-generation"],"role":"sales-and-marketing","reportedSource":"google"},"settings":{"userActivated":true,"easyAIWorkflowOnboarded":true,"firstSuccessfulWorkflowId":"qbWjLjqmTXha48b0","userActivatedAt":1759559314268,"npsSurvey":{"responded":true,"lastShownAt":1762350067664},"dismissedCallouts":{"aiAgentStarterCallout":true,"ragStarterCallout":true}},"disabled":false,"mfaEnabled":false,"lastActiveAt":"2026-01-31","isPending":false}}]}}],"tags":[],"activeVersion":null}
